{
  "builders": [
    {
      "type": "virtualbox-iso",
      "boot_command": [
        "<esc><esc><enter><wait>",
        "/install/vmlinuz auto noapic ",
        "console-setup/ask_detect=false ",
        "console-setup/layoutcode=us ",
        "console-setup/modelcode=pc105 ",
        "debconf/frontend=noninteractive ",
        "debian-installer=en_US.UTF-8 ",
        "fb=false ",
        "initrd=/install/initrd.gz ",
        "kbd-chooser/method=us ",
        "keyboard-configuration/layout=USA ",
        "keyboard-configuration/variant=USA ",
        "locale=en_US.UTF-8 ",
        "domain=vm ",
        "hostname={{user `hostname`}} ",
        "grub-installer/bootdev=/dev/sda ",
        "url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/{{user `preseed_path`}} ",
        "-- <wait><enter>"
      ],
      "boot_wait": "10s",
      "disk_size": "{{user `disk_size`}}",
      "guest_additions_mode": "disable",
      "guest_os_type": "Ubuntu_64",
      "hard_drive_interface": "sata",
      "headless": false,
      "http_directory": "http",
      "iso_urls": [
        "iso/ubuntu-{{ user `ubuntu_release` }}-server-amd64.iso",
        "http://cdimage.ubuntu.com/ubuntu/releases/{{ user `ubuntu_release` }}/release/ubuntu-{{ user `ubuntu_release` }}-server-amd64.iso"
      ],
      "iso_checksum": "{{ user `ubuntu_release_checksum` }}",
      "iso_checksum_type": "sha256",
      "output_directory": "../builds/{{user `box_name`}}.{{.Provider}}",
      "shutdown_command": "echo '{{ user `ssh_password` }}' | sudo -S shutdown -P now",
      "ssh_username": "{{ user `ssh_username` }}",
      "ssh_password": "{{ user `ssh_password` }}",
      "ssh_port": 22,
      "ssh_wait_timeout": "10000s",
      "vboxmanage": [
        ["modifyvm", "{{.Name}}", "--memory", "{{ user `memory` }}"],
        ["modifyvm", "{{.Name}}", "--cpus", "{{ user `cpus` }}"]
      ],
      "vm_name": "{{ user `box_name` }}"
    }
  ],
  "variables": {
    "box_name": "xubuntu-bionic",
    "hostname": "xubuntu-bionic",
    "ubuntu_release": "18.04.1",
    "ubuntu_release_checksum": "a5b0ea5918f850124f3d72ef4b85bda82f0fcd02ec721be19c1a6952791c8ee8",
    "preseed_path": "xubuntu.preseed.cfg",
    "cpus": "1",
    "memory": "1024",
    "disk_size": "65536",
    "ssh_fullname": "vagrant",
    "ssh_username": "vagrant",
    "ssh_password": "vagrant"
  }
}
